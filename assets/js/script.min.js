jQuery(document).ready(function(o){function i(o){o&&($thumbnails=o.find("img"),$thumbnails.show())}o("#woofz-product-image");o("#woofz-wrap").length&&(i(o("#woofz-thumbnails")),o("#woofz-thumbnails img").each(function(i){o(this).click(function(){var i=o(this).data("img"),t=o(this).data("src");o("#woofz-product-image").attr("src",i),o("#woofz-product-image").attr("data-img",t),o("#woofz-thumbnails").find("img").removeClass("active"),o(this).addClass("active")})}),o(document).on("click","#woofz-product-image",function(t){var e=o(this).attr("data-img"),p=o("#woofz-thumbnails").html(),a=["",'<div class="woofzpl-rotating-plane"></div>'],n=woofz_script_vars.preloader>0?'<div class="woofz-preloader"><ul class="woofz-preloader-flex-container"><li>'+a[woofz_script_vars.preloader]+"</li></ul></div>":"",r=o('<div id="woofz-fullscreen"><img src="'+e+'">'+n+'<figcaption id="woofz-fullscreen-thumbnails">'+p+"</figcaption></div>");o("body").prepend(r),o("body").css("overflow","hidden"),i(o("#woofz-fullscreen-thumbnails")),u=t.clientY,o("#woofz-fullscreen > img").on("load",function(){var i=o("#woofz-fullscreen > img").height(),t=o(window).innerHeight(),e=t/2-i/2,p=u*e/(t/2);woofz_script_vars.preloader>0&&o(".woofz-preloader").hide(),o("#woofz-fullscreen > img").show(),o("#woofz-fullscreen > img").css({top:p+"px"})})}),o(document).on("mousemove","#woofz-fullscreen",function(o){var i=this.querySelector("img").clientHeight,t=window.innerHeight,e=t/2-i/2,p=o.clientY,a=p*e/(t/2);0!=i&&(this.querySelector("img").style.top=a+"px")}),o(document).on("keydown",function(i){27==i.keyCode&&(o("#woofz-fullscreen").remove(),o("body").css("overflow","auto"))}),o(document).on("click","#woofz-fullscreen",function(i){o(i.target).closest("#woofz-fullscreen-thumbnails").length||(o(this).remove(),o("body").css("overflow","auto"))}),o(document).on("click","#woofz-fullscreen-thumbnails img",function(i){var t=o(this).data("src"),e=o("#woofz-fullscreen > img").height(),p=o(window).innerHeight(),a=p/2-e/2,n=i.clientY,r=n*a/(p/2);o("#woofz-fullscreen > img").hide(),woofz_script_vars.preloader>0&&o(".woofz-preloader").show(),o("#woofz-fullscreen > img").one("load",function(){woofz_script_vars.preloader>0&&o(".woofz-preloader").hide(),o("#woofz-fullscreen > img").show(),o("#woofz-fullscreen > img").css({top:r+"px"})}).attr("src",t),o("#woofz-fullscreen-thumbnails").find("img").removeClass("active"),o(this).addClass("active")}))});